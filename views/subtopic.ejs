<!DOCTYPE html>
<html lang="en">
<head>
  <title><%= topic %> Subtopics | GuidanceX</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body { background: #7046af; color: #fff; font-family: 'Montserrat', Arial, sans-serif; }
    .subtopics-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:34px; margin:42px 2vw; }
    .project-card { background: #4e27a4; border-radius:22px; box-shadow:0 6px 22px #3908593d; padding:20px 16px; text-align:center; }
    .project-card:hover { background:#7b2faf; transform:scale(1.04);}
    .project-title { font-size:1.17rem; font-weight:700; color:#ffd2e7; margin:15px 0 6px 0; }
    .project-expert { color:#ffbbec; font-size:1rem; margin-bottom:7px;}
    .project-desc { color:#fff; margin-bottom:12px;}
    .price-tag { color:#fff3c1; margin-bottom:8px;}
    .project-action { background:linear-gradient(90deg,#ffd2e7,#a77efa 80%); border:none; border-radius:15px; font-weight:700; font-size:1.07rem; padding:11px 28px; color:#541178; cursor:pointer;}
    .project-action:hover { background: linear-gradient(90deg,#c17fff,#fff4ff); color:#fff;}
  </style>
</head>
<body>
  <main>
    <h1 style="text-align:center;margin:48px 0 32px 0;">Explore <%= topic %> Courses</h1>
    <div class="subtopics-grid">
      <% subtopics.forEach((sub, i) => { %>
        <div class="project-card">
          <div class="project-title"><%= sub.name %></div>
          <div class="project-expert">by <%= sub.expert %> (<%= sub.initials %>)</div>
          <div class="project-desc"><%= sub.desc %></div>
          <div class="price-tag">â‚¹<%= sub.price %></div>
          <a href="/deatils/<%= encodeURIComponent(topic) %>/<%= encodeURIComponent(sub.name) %>">
            <button class="project-action" type="button">View Details</button>
          </a>
          <a href="/buy/<%= encodeURIComponent(topic) %>/<%= encodeURIComponent(sub.name) %>">
            <button class="project-action mt-2" type="button">Buy &amp; View</button>
          </a>
        </div>
      <% }) %>
    </div>
  </main>
</body>
</html>
